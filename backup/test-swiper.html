<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swiper Autoplay Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        swiper-container {
            width: 100%;
            height: 400px;
        }
        swiper-slide {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: #2a2a2a;
            border-radius: 10px;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            background: #333;
            border-radius: 5px;
        }
        .status-item {
            margin: 5px 0;
        }
        .active {
            color: #4ade80;
        }
        .inactive {
            color: #ef4444;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Activity Swiper Autoplay Test</h1>
        
        <div class="status">
            <div class="status-item">Swiper Status: <span id="swiper-status" class="inactive">Not Initialized</span></div>
            <div class="status-item">Autoplay Status: <span id="autoplay-status" class="inactive">Not Running</span></div>
            <div class="status-item">Current Slide: <span id="current-slide">-</span></div>
            <div class="status-item">Total Slides: <span id="total-slides">-</span></div>
        </div>

        <swiper-container init="false" id="test-swiper">
            <swiper-slide>Slide 1: Listening to Music ðŸŽµ</swiper-slide>
            <swiper-slide>Slide 2: Research & Learning ðŸ“š</swiper-slide>
            <swiper-slide>Slide 3: Coding & Development ðŸ’»</swiper-slide>
            <swiper-slide>Slide 4: Studying & Learning ðŸ“–</swiper-slide>
        </swiper-container>

        <div style="margin-top: 20px;">
            <button onclick="startAutoplay()" style="padding: 10px 20px; margin: 5px; cursor: pointer;">Start Autoplay</button>
            <button onclick="stopAutoplay()" style="padding: 10px 20px; margin: 5px; cursor: pointer;">Stop Autoplay</button>
            <button onclick="checkStatus()" style="padding: 10px 20px; margin: 5px; cursor: pointer;">Check Status</button>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: #333; border-radius: 5px;">
            <h3>Console Log:</h3>
            <div id="console-log" style="font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;"></div>
        </div>
    </div>

    <script>
        const swiperEl = document.querySelector('#test-swiper');
        const consoleLog = document.getElementById('console-log');

        function log(message) {
            console.log(message);
            const time = new Date().toLocaleTimeString();
            consoleLog.innerHTML += `<div>[${time}] ${message}</div>`;
            consoleLog.scrollTop = consoleLog.scrollHeight;
        }

        function updateStatus() {
            if (swiperEl.swiper) {
                document.getElementById('swiper-status').textContent = 'Initialized';
                document.getElementById('swiper-status').className = 'active';
                
                const isRunning = swiperEl.swiper.autoplay && swiperEl.swiper.autoplay.running;
                document.getElementById('autoplay-status').textContent = isRunning ? 'Running' : 'Stopped';
                document.getElementById('autoplay-status').className = isRunning ? 'active' : 'inactive';
                
                document.getElementById('current-slide').textContent = swiperEl.swiper.activeIndex + 1;
                document.getElementById('total-slides').textContent = swiperEl.swiper.slides.length;
            }
        }

        function startAutoplay() {
            if (swiperEl.swiper && swiperEl.swiper.autoplay) {
                swiperEl.swiper.autoplay.start();
                log('Autoplay started manually');
                updateStatus();
            }
        }

        function stopAutoplay() {
            if (swiperEl.swiper && swiperEl.swiper.autoplay) {
                swiperEl.swiper.autoplay.stop();
                log('Autoplay stopped manually');
                updateStatus();
            }
        }

        function checkStatus() {
            log('Checking status...');
            updateStatus();
        }

        // Initialize Swiper
        setTimeout(() => {
            log('Initializing Swiper...');
            
            const swiperParams = {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: true,
                },
                pagination: {
                    clickable: true,
                },
            };
            
            Object.assign(swiperEl, swiperParams);
            swiperEl.initialize();
            
            // Wait for initialization
            const checkInit = setInterval(() => {
                if (swiperEl.swiper) {
                    clearInterval(checkInit);
                    log('Swiper initialized successfully');
                    
                    // Start autoplay
                    if (swiperEl.swiper.autoplay) {
                        swiperEl.swiper.autoplay.start();
                        log('Autoplay started');
                    }
                    
                    // Add event listeners
                    swiperEl.swiper.on('slideChange', () => {
                        log(`Slide changed to: ${swiperEl.swiper.activeIndex + 1}`);
                        updateStatus();
                    });
                    
                    swiperEl.swiper.on('autoplayStart', () => {
                        log('Autoplay event: started');
                        updateStatus();
                    });
                    
                    swiperEl.swiper.on('autoplayStop', () => {
                        log('Autoplay event: stopped');
                        updateStatus();
                    });
                    
                    // Stop on interaction
                    swiperEl.addEventListener('click', () => {
                        if (swiperEl.swiper.autoplay.running) {
                            swiperEl.swiper.autoplay.stop();
                            log('Autoplay stopped by click');
                        }
                    });
                    
                    updateStatus();
                }
            }, 100);
        }, 100);
    </script>
</body>
</html>
